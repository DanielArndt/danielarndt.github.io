[{"categories":["technology"],"content":"Motivation When I first made my Hugo website, one of the very first things I wanted to do was add a “copy to clipboard” button next to important snippets. My theme came with a copy button for multi-line code snippets, but there was nothing available for inline code like this, i.e. the \u003ccode\u003e HTML tag. It was pretty important for me to make how-to guides that were as simple and easy to follow as possible, and this was a feature that seemed worth the time to figure out. ","date":"2022-10-16","objectID":"/2022/10/hugo-copy-to-clipboard/:1:0","tags":["tech","hugo","howto"],"title":"How-to: Add a copy-to-clipboard button on hugo for inline code samples","uri":"/2022/10/hugo-copy-to-clipboard/"},{"categories":["technology"],"content":"Outcome Create a copy to clipboard button for code like this Copy to clipboard . The above line is written like this in the markdown. Create a copy to clipboard button for {{% copy-to-clipboard id=\"example\" %}}`code like this`{{% /copy-to-clipboard %}}. ","date":"2022-10-16","objectID":"/2022/10/hugo-copy-to-clipboard/:2:0","tags":["tech","hugo","howto"],"title":"How-to: Add a copy-to-clipboard button on hugo for inline code samples","uri":"/2022/10/hugo-copy-to-clipboard/"},{"categories":["technology"],"content":"Solution Note I’m not a Hugo expert, nor an HTML, CSS, or JavaScript expert. All of these things I have only dabbled in. There is likely a better way to organize this or achieve this. I will show you how I accomplished it and hopefully you can improve it from there. ","date":"2022-10-16","objectID":"/2022/10/hugo-copy-to-clipboard/:3:0","tags":["tech","hugo","howto"],"title":"How-to: Add a copy-to-clipboard button on hugo for inline code samples","uri":"/2022/10/hugo-copy-to-clipboard/"},{"categories":["technology"],"content":"1. Create the JavaScript and CSS files The first step is to create a JavaScript file and create a function that will take in an element id, and then copy the text in that element to the clipboard. Create static/copy-to-clipboard.js with the following contents. /* * Some methods for copying to the clipboard and updating a tooltip. */ function copyToClipboard(textElementId, tooltipId) { element = document.getElementById(textElementId); const copyText = element.textContent; navigator.clipboard.writeText(copyText); var tooltip = document.getElementById(tooltipId); tooltip.innerHTML = \"Copied: \" + copyText; } function tooltipReset(tooltipId) { var tooltip = document.getElementById(tooltipId); tooltip.innerHTML = \"Copy to clipboard\"; } Create static/tooltip.css with the following contents. .tooltip { position: relative; display: inline-block; } .tooltip .tooltiptext { visibility: hidden; width: 140px; background-color: #555; color: #fff; text-align: center; border-radius: 6px; padding: 5px; position: absolute; z-index: 1; bottom: 150%; left: 50%; margin-left: -75px; opacity: 0; transition: opacity 0.3s; } .tooltip .tooltiptext::after { content: \"\"; position: absolute; top: 100%; left: 50%; margin-left: -5px; border-width: 5px; border-style: solid; border-color: #555 transparent transparent transparent; } .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; } ","date":"2022-10-16","objectID":"/2022/10/hugo-copy-to-clipboard/:3:1","tags":["tech","hugo","howto"],"title":"How-to: Add a copy-to-clipboard button on hugo for inline code samples","uri":"/2022/10/hugo-copy-to-clipboard/"},{"categories":["technology"],"content":"2. Include the files with the base layout html Note If you don’t already have a layouts/_default/baseof.html file, your theme should. You can copy the contents of that file to this location to override the theme layout, then add the lines mentioned. In layouts/_default/baseof.html add the following to the \u003chead\u003e section \u003cscript src=\"/copy-to-clipboard.js\" async\u003e\u003c/script\u003e \u003clink rel=\"stylesheet\" href=\"/tooltip.css\"\u003e ","date":"2022-10-16","objectID":"/2022/10/hugo-copy-to-clipboard/:3:2","tags":["tech","hugo","howto"],"title":"How-to: Add a copy-to-clipboard button on hugo for inline code samples","uri":"/2022/10/hugo-copy-to-clipboard/"},{"categories":["technology"],"content":"3. Create the Hugo shortcode to use in markdown Create the shortcode by creating a file layouts/shortcodes/copy-to-clipboard.html \u003cspan id=\"{{.Get `id`}}-text\"\u003e {{.Inner}} \u003c/span\u003e \u003cspan class=\"tooltip\"\u003e \u003cspan class=\"tooltiptext\" id=\"{{.Get `id`}}-tooltip\"\u003e Copy to clipboard \u003c/span\u003e \u003ci class=\"fa fa-clipboard\" style=\"font-size:12px; cursor:pointer;\" onclick=\"copyToClipboard('{{.Get `id`}}-text', '{{.Get `id`}}-tooltip')\" onmouseout=\"tooltipReset('{{.Get `id`}}-tooltip')\"\u003e \u003c/i\u003e \u003c/span\u003e This is the part that will allow you to wrap any text in a markdown file like so {{% copy-to-clipboard id=\"some-id\" %}}my text to copy{{% /copy-to-clipboard %}} You can use markdown or HTML to format the text if necessary, such as adding code tags. The JavaScript should select only the visible text to copy to the clipboard (i.e. not the markdown formatting). ","date":"2022-10-16","objectID":"/2022/10/hugo-copy-to-clipboard/:3:3","tags":["tech","hugo","howto"],"title":"How-to: Add a copy-to-clipboard button on hugo for inline code samples","uri":"/2022/10/hugo-copy-to-clipboard/"},{"categories":["technology"],"content":"Description If you get blurry windows with Chrome or Brave, and you’re using Wayland (the default window manager on Ubuntu), there is an easy fix. Once upon a time you had to edit the launch flags, which was a little more involved, but with more recent versions you can just edit the flag with the built in browser UI. ","date":"2022-10-05","objectID":"/2022/10/chrome-brave-browser-wayland-support/:1:0","tags":["tech"],"title":"Enable Wayland support on Chrome / Brave Browser","uri":"/2022/10/chrome-brave-browser-wayland-support/"},{"categories":["technology"],"content":"Solution Just head to chrome://flags/#ozone-platform-hint Copy to clipboard and change the drop down value to auto. Screenshot of the Ozone platform hint browser flag ","date":"2022-10-05","objectID":"/2022/10/chrome-brave-browser-wayland-support/:2:0","tags":["tech"],"title":"Enable Wayland support on Chrome / Brave Browser","uri":"/2022/10/chrome-brave-browser-wayland-support/"},{"categories":null,"content":"My resume","date":"0001-01-01","objectID":"/pages/resume/","tags":null,"title":"Daniel Arndt","uri":"/pages/resume/"},{"categories":null,"content":"Not yet ported. See this Google Doc for now. ","date":"0001-01-01","objectID":"/pages/resume/:0:0","tags":null,"title":"Daniel Arndt","uri":"/pages/resume/"}]